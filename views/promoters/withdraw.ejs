 
  <div class="summary-cards">
    <div class="finance-card">
      <p>$<%= totalPromoterRevenue.toLocaleString() %></p>
      <h3>Total Revenue</h3>
    </div>
    <div class="finance-card">
      <p>$<%= promoterTableRevenue.toLocaleString() %></p>
      <h3>Table Revenue</h3>
    </div>
    <div class="finance-card">
      <p>$<%= promoterVipRevenue.toLocaleString() %></p>
      <h3>VIP Ticket Revenue</h3>
    </div>
    <div class="finance-card">
      <p>$<%= promoterOrdinaryRevenue.toLocaleString() %></p>
      <h3>Ordinary Ticket Revenue</h3>
    </div>
  </div>


  <div class="withdraw-section">

    <!-- Wallet Summary Left -->
    <div class="withdraw-right">
      <form action="/book/submit" method="post" class="payment-container" id="paymentForm">

        <h2>Payment</h2>
        <label for="paymentMethodSelect">Choose Payment Method</label>
        <select name="method" id="paymentMethodSelect" required>
          <option value="">Select</option>
          <option value="card">Card (Visa/MasterCard)</option>
          <option value="mtn">MTN Mobile Money</option>
          <option value="airtel">Airtel Money</option>
          <option value="mpesa">M-Pesa</option>
        </select>

        <div class="payment-option" id="cardSection">
          <label for="cardNumber">Card Number</label>
          <input id="cardNumber" type="text" name="cardNumber" placeholder="1234 5678 9012 3456" autocomplete="cc-number" />
          <label for="expiryDate">Expiry Date</label>
          <input id="expiryDate" type="text" name="expiryDate" placeholder="MM/YY" autocomplete="cc-exp" />
          <label for="cvv">CVV</label>
          <input id="cvv" type="text" name="cvv" placeholder="123" autocomplete="cc-csc" />
          <label for="cardName">Name on Card</label>
          <input id="cardName" type="text" name="cardName" placeholder="John Doe" autocomplete="cc-name" />
        </div>

        <div class="payment-option" id="mobileSection">
          <label for="phoneNumber">Confirm Phone for Payment</label>
          <input id="phoneNumber" type="text" name="phoneNumber" placeholder="+2567xxxxxxx" />
        </div>

        <div id="paymentMessageBox"></div>
        <button type="submit" id="paymentSubmitBtn" class="withdraw-btn">Proceed to Pay</button>

      </form>
    </div>


    <!-- Payment Section Right -->
    <div class="withdraw-left">
      <h2>Wallet Summary</h2>
      <div class="wallet-details">
        <p>Current Balance: <span class="wallet-highlight">$135.50</span></p>
        <p>Minimum Withdraw Amount: <span class="wallet-highlight">$10</span></p>
        <p>Withdrawal Processing Time: <span class="wallet-highlight">24 - 72 hrs</span></p>

        <div class="wallet-tip">
          üí° Tip: Double-check your phone/account number before submitting to avoid delays.
        </div>

        <div class="wallet-tip">
          ‚ö†Ô∏è Note: Withdrawal fees may apply depending on the method you choose.
        </div>

        <p>Need help? <a href="/support" style="color:#007BFF;">Contact support</a></p>
      </div>
    </div>


  </div>

  <h2>Transaction History</h2>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>User</th>
          <th>Amount</th>
          <th>Payment Method</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td data-label="Date">2025-05-21</td>
          <td data-label="User">John Doe</td>
          <td data-label="Amount">$120</td>
          <td data-label="Payment Method">Credit Card</td>
          <td data-label="Status"><span class="status paid">Paid</span></td>
        </tr>
        <tr>
          <td data-label="Date">2025-05-22</td>
          <td data-label="User">Jane Smith</td>
          <td data-label="Amount">$89</td>
          <td data-label="Payment Method">PayPal</td>
          <td data-label="Status"><span class="status pending">Pending</span></td>
        </tr>
        <tr>
          <td data-label="Date">2025-05-23</td>
          <td data-label="User">Alan Walker</td>
          <td data-label="Amount">$340</td>
          <td data-label="Payment Method">Bank Transfer</td>
          <td data-label="Status"><span class="status failed">Failed</span></td>
        </tr>
      </tbody>
    </table>
  </div>


  <script>
    const paymentMethodSelect = document.getElementById('paymentMethodSelect');
    const cardSection = document.getElementById('cardSection');
    const mobileSection = document.getElementById('mobileSection');
    const paymentMessageBox = document.getElementById('paymentMessageBox');
    const paymentSubmitBtn = document.getElementById('paymentSubmitBtn');
    const paymentForm = document.getElementById('paymentForm');

    // Show/hide fields depending on selected payment method
    paymentMethodSelect.addEventListener('change', () => {
      cardSection.style.display = 'none';
      mobileSection.style.display = 'none';

      const method = paymentMethodSelect.value;
      if (method === 'card') {
        cardSection.style.display = 'block';
      } else if (['mtn', 'airtel', 'mpesa'].includes(method)) {
        mobileSection.style.display = 'block';
      }
    });

    // Submit handler with basic validation and feedback (simulation)
    paymentForm.addEventListener('submit', function(e) {
      e.preventDefault();
      paymentMessageBox.innerHTML = '';

      const method = paymentMethodSelect.value;
      if (!method) {
        paymentMessageBox.innerHTML = `<div class="withdraw-error">Please select a payment method!</div>`;
        return;
      }

      if (method === 'card') {
        const cardNumber = document.getElementById('cardNumber').value.trim();
        const expiryDate = document.getElementById('expiryDate').value.trim();
        const cvv = document.getElementById('cvv').value.trim();
        const cardName = document.getElementById('cardName').value.trim();

        if (!cardNumber || !expiryDate || !cvv || !cardName) {
          paymentMessageBox.innerHTML = `<div class="withdraw-error">Please fill in all card details.</div>`;
          return;
        }
      } else {
        const phoneNumber = document.getElementById('phoneNumber').value.trim();
        if (!phoneNumber) {
          paymentMessageBox.innerHTML = `<div class="withdraw-error">Please enter your phone number for payment.</div>`;
          return;
        }
      }

      paymentMessageBox.innerHTML = `<div class="withdraw-success">Processing ${method.toUpperCase()} payment... (Simulated)</div>`;

      // TODO: replace with real backend call and disable form while processing
    });
  </script>
